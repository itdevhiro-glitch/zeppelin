<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manajemen Konten - Zeppelin Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Override specific for Quill height */
        #quill-editor-container, #quill-editor-container-edit { height: 250px; background-color: #fff; }
        .action-button { background: none; border: 1px solid #ddd; padding: 6px 10px; cursor: pointer; border-radius: 6px; margin-left: 5px; }
        .edit-btn { color: #3b82f6; } .delete-btn { color: #D9232D; }
    </style>
</head>
<body>

    <div id="loading-screen" class="loading-screen">
        <div class="spinner"></div>
        <p>Memverifikasi akses HRD...</p>
    </div>

    <div id="main-content" style="display: none;">
        <nav class="navbar">
            <div class="nav-container">
                <a href="dashboard.html" class="nav-logo">
                    <i class="fa-solid fa-gear"></i> ZEPPELIN
                </a>
                <div class="nav-right">
                    <button id="logout-btn" class="logout-button">
                        <i class="fa-solid fa-right-from-bracket"></i> Keluar
                    </button>
                </div>
            </div>
        </nav>
        
        <main class="main-page container" style="padding:40px 0;">
            <a href="dashboard.html" style="color:#D9232D; font-weight:500; display:inline-block; margin-bottom:20px;"><i class="fa-solid fa-arrow-left"></i> Kembali ke Dashboard</a>

            <div class="page-header">
                <h2 class="page-title" style="font-size:1.8rem; font-weight:700;">Manajemen Pengumuman</h2>
                <button class="create-new-btn" id="open-create-modal-btn" style="background-color:#D9232D; color:white; border:none; padding:10px 16px; border-radius:8px; cursor:pointer;">
                    <i class="fa-solid fa-plus"></i> Buat Pengumuman Baru
                </button>
            </div>
            
            <div class="content-widget" style="background:white; border:1px solid #e5e7eb; border-radius:12px;">
                <div class="content-widget-header" style="padding:16px 24px; background:#f9fafb; border-bottom:1px solid #e5e7eb; font-weight:700;">Daftar Pengumuman</div>
                <div class="content-widget-body" style="padding:8px;">
                    <div id="announcement-list"></div>
                </div>
            </div>
        </main>
    </div>

    <div id="create-modal" class="modal-overlay modal-backdrop">
        <div class="modal-content">
            <form id="create-form">
                <div class="modal-header"><h3 class="modal-title">Buat Pengumuman</h3></div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Judul</label>
                        <input type="text" id="ann-title" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Isi</label>
                        <div id="quill-editor-container"></div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Kategori</label>
                            <select id="ann-category"><option value="Umum">Umum</option><option value="Penting">Penting</option><option value="Event">Event</option><option value="Peraturan">Peraturan</option></select>
                        </div>
                        <div class="form-group">
                            <label>Berakhir (Opsional)</label>
                            <input type="date" id="ann-expiry">
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="padding:20px; border-top:1px solid #eee; display:flex; justify-content:space-between;">
                    <div><input type="checkbox" id="ann-pin"> <label for="ann-pin">Sematkan</label></div>
                    <div>
                        <button type="button" class="modal-button-secondary" style="padding:8px 16px; margin-right:10px;">Batal</button>
                        <button type="submit" style="background:#D9232D; color:white; border:none; padding:8px 16px; border-radius:6px; cursor:pointer;">Publikasikan</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div id="edit-modal" class="modal-overlay modal-backdrop">
        <div class="modal-content">
            <form id="edit-form">
                <input type="hidden" id="edit-id">
                <div class="modal-header"><h3>Edit Pengumuman</h3></div>
                <div class="modal-body">
                    <div class="form-group"><label>Judul</label><input type="text" id="edit-title" required></div>
                    <div class="form-group"><label>Isi</label><div id="quill-editor-container-edit"></div></div>
                    <div class="form-group"><label>Kategori</label><select id="edit-category"><option value="Umum">Umum</option><option value="Penting">Penting</option><option value="Event">Event</option><option value="Peraturan">Peraturan</option></select></div>
                </div>
                <div class="modal-footer" style="padding:20px; border-top:1px solid #eee; display:flex; justify-content:space-between;">
                    <div><input type="checkbox" id="edit-pin"> <label for="edit-pin">Sematkan</label></div>
                    <div>
                        <button type="button" class="modal-button-secondary" style="padding:8px 16px; margin-right:10px;">Batal</button>
                        <button type="submit" style="background:#D9232D; color:white; border:none; padding:8px 16px; border-radius:6px; cursor:pointer;">Simpan</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script type="module" src="js/content.js"></script>
</body>
</html>